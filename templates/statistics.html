{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} Statistics {% endblock %}</h1>
        <p>{% block body %} 
            competed tasks, activity, time of completition

            <!-- <canvas id="lineChart" width="900" height="400"></canvas>
            <script>
              var ctx = document.getElementById("lineChart").getContext("2d");
              var lineChart = new Chart(ctx, {
                type: "line",
                data: {
                  label: {{ labels | safe }},
                  datasets: [
                    {
                      label: "count",
                      data: {{values | safe}},
                      fill: false,
                      lineTension: 0.1,
                    }
    
                  ]
                },
                options: {
                  responsive: false
                }
              });
            </script> -->




            {% endblock %}
        </p>

        <!-- <form action="/statistics" method="post">
            <div class="row">
            
                <div class="col-sm-4 input-group mb">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">todo title</span>
                  </div>
                  <input type="text" class="form-control" name="title" placeholder="Enter Todo...">
                </div>
    
                <select name="category" class="col-sm-4 input-group mb form-control" type="text">
                  {% for o in category %}
                  <option value="{{ o.category }}">{{ o.category }}</option>
                  {% endfor %}
                </select>
    
                <div class="col-sm-4">  
                  <button class="btn btn-dark" type="submit">Add</button>
                </div>
            </div>
        </form> -->
    
        <br>
        <table class="table table-striped">
          <thead class="thead-dark">
            
            <tr>
              <th>ID</th>
              <th>Title</th>
              <th>Category</th>
              <th>Create Time</th>
              <th>Complete Time</th>
              <th>Status</th>
              
            </tr>
          </thead>
          
          {% for todo in todo_list %}
          <tr>
            <td>{{ todo.id }}</td>
            <td>{{ todo.title }}</td>
            <td>{{ todo.category }}</td>
            <td>{{ todo.createtime }}</td>
            <td>{{ todo.completetime }}</td>
            <td>
              {% if todo.complete == False %}
                <span>| Not Completed</span>
              {% else %}
                <span>| Completed</span>
              {% endif %}
            </td>
            
          </tr>
                
    
        {% endfor %}
        <h3>Completed Tasks over time</h3>    
        <div id='chart' class='chart'â€></div>

        <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
        <script type='text/javascript'>
          var graphs = {{graphJSON | safe}};
          Plotly.plot('chart',graphs,{});
        </script>
        
        <h3>Table of Tasks</h3>
    
{% endblock %}
